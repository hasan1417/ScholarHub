% nature.sty - Compatible Nature style for ScholarHub
% Nature journal formatting

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{nature}[2024/01/01 Nature Compatible Style]

\DeclareOption*{\PackageWarning{nature}{Unknown option '\CurrentOption'}}
\ProcessOptions\relax

% Page layout - single column, Nature style
\RequirePackage[margin=1in,top=1in,bottom=1in]{geometry}
\RequirePackage{times}
\RequirePackage{microtype}
\RequirePackage{fancyhdr}
\RequirePackage{graphicx}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{natbib}
\RequirePackage{xcolor}

% Nature blue
\definecolor{natureblue}{RGB}{0,51,102}

% Headers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\textcolor{natureblue}{\textbf{Nature}}}
\fancyhead[R]{\small\thepage}
\fancyfoot{}
\renewcommand{\headrulewidth}{0.4pt}

% Affiliations
\newcounter{nat@affil}
\def\affiliation#1{%
  \stepcounter{nat@affil}%
  \textsuperscript{\thenat@affil}#1\\
}

% Title formatting - Nature uses large, bold titles
\def\@maketitle{%
  \newpage
  \null
  \vskip 1em%
  \begin{center}%
  \let \footnote \thanks
    {\LARGE\bfseries\textcolor{natureblue}{\@title} \par}%
    \vskip 1.5em%
    {\large
      \lineskip .5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 1em%
  \end{center}%
  \par
  \vskip 1.5em}

% Section formatting - Nature uses simple bold headers
\renewcommand\section{\@startsection {section}{1}{\z@}%
  {-3.5ex \@plus -1ex \@minus -.2ex}%
  {2.3ex \@plus.2ex}%
  {\normalfont\normalsize\bfseries}}

\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
  {-3.25ex\@plus -1ex \@minus -.2ex}%
  {1.5ex \@plus .2ex}%
  {\normalfont\normalsize\bfseries}}

% Abstract - Nature style (no header, just bold first sentence)
\renewenvironment{abstract}{%
  \small
  \par\noindent
}{%
  \par\vskip 1em
}

% Methods section
\newcommand{\methods}{\section*{Methods}}

% Data availability
\newcommand{\dataavailability}[1]{\par\vskip 1em\noindent\textbf{Data availability.} #1}

% Code availability
\newcommand{\codeavailability}[1]{\par\vskip 0.5em\noindent\textbf{Code availability.} #1}

% Acknowledgements
\newcommand{\acknowledgements}[1]{\par\vskip 1em\noindent\textbf{Acknowledgements.} #1}

% Author contributions
\newcommand{\authorcontributions}[1]{\par\vskip 0.5em\noindent\textbf{Author contributions.} #1}

% Competing interests
\newcommand{\competinginterests}[1]{\par\vskip 0.5em\noindent\textbf{Competing interests.} #1}

% Extended data
\newenvironment{extendeddata}{\section*{Extended Data}}{}

% Supplementary information
\newenvironment{suppinfo}{\section*{Supplementary Information}}{}

\endinput
